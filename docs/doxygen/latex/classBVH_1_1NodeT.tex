\hypertarget{classBVH_1_1NodeT}{}\section{B\+VH\+:\+:NodeT$<$ T, P, BV, K $>$ Class Template Reference}
\label{classBVH_1_1NodeT}\index{B\+V\+H\+::\+Node\+T$<$ T, P, B\+V, K $>$@{B\+V\+H\+::\+Node\+T$<$ T, P, B\+V, K $>$}}


Forward declare the \hyperlink{namespaceBVH}{B\+VH} node since it is needed for the polymorphic lambdas.  




{\ttfamily \#include $<$E\+B\+Geometry\+\_\+\+B\+V\+H.\+hpp$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}\label{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}} 
using \hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List} = \hyperlink{namespaceBVH_aa1e753bda451b85cd5b948722a2ad7c7}{Primitive\+ListT}$<$ P $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. This is a std\+::vector$<$std\+::shared\+\_\+ptr$<$const P$>$ $>$. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}\label{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}} 
using \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} = \hyperlink{classVec3T}{Vec3T}$<$ T $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_ac52d9b56f082002c7f8be91062c40ff8}\label{classBVH_1_1NodeT_ac52d9b56f082002c7f8be91062c40ff8}} 
using \hyperlink{classBVH_1_1NodeT_ac52d9b56f082002c7f8be91062c40ff8}{Node} = \hyperlink{classBVH_1_1NodeT}{NodeT}$<$ T, P, BV, K $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a008f5c2c53adb1f5730d8478b48529b1}\label{classBVH_1_1NodeT_a008f5c2c53adb1f5730d8478b48529b1}} 
using \hyperlink{classBVH_1_1NodeT_a008f5c2c53adb1f5730d8478b48529b1}{Node\+Ptr} = std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1NodeT_ac52d9b56f082002c7f8be91062c40ff8}{Node} $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_acbe56195affc439febe8aca84db308e3}\label{classBVH_1_1NodeT_acbe56195affc439febe8aca84db308e3}} 
using \hyperlink{classBVH_1_1NodeT_acbe56195affc439febe8aca84db308e3}{Stop\+Function} = \hyperlink{namespaceBVH_afef1c5979c34a11d23b756cc09654bf9}{Stop\+FunctionT}$<$ T, P, BV, K $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a3bb028655b8b961fa35109af1c14f281}\label{classBVH_1_1NodeT_a3bb028655b8b961fa35109af1c14f281}} 
using \hyperlink{classBVH_1_1NodeT_a3bb028655b8b961fa35109af1c14f281}{Partitioner} = \hyperlink{namespaceBVH_a7c33d54da9893d506709b2ca96b76f55}{PartitionerT}$<$ P, K $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a2340f2466ed5b6eebab4bdc72004858e}\label{classBVH_1_1NodeT_a2340f2466ed5b6eebab4bdc72004858e}} 
using \hyperlink{classBVH_1_1NodeT_a2340f2466ed5b6eebab4bdc72004858e}{B\+V\+Constructor} = \hyperlink{namespaceBVH_a245702d7eff40cdaedb5dff68c25a88a}{B\+V\+ConstructorT}$<$ P, BV $>$
\begin{DoxyCompactList}\small\item\em Alias for cutting down on typing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a960d0972bec81cf782b36e57f87da1f1}\label{classBVH_1_1NodeT_a960d0972bec81cf782b36e57f87da1f1}} 
\hyperlink{classBVH_1_1NodeT_a960d0972bec81cf782b36e57f87da1f1}{NodeT} ()
\begin{DoxyCompactList}\small\item\em Default constructor which sets a regular node. \end{DoxyCompactList}\item 
\hyperlink{classBVH_1_1NodeT_a6da86ccc8e4a0c556cd67ca59af983dc}{NodeT} (const std\+::vector$<$ std\+::shared\+\_\+ptr$<$ P $>$ $>$ \&a\+\_\+primitives)
\begin{DoxyCompactList}\small\item\em Construct node from a set of primitives. \end{DoxyCompactList}\item 
\hyperlink{classBVH_1_1NodeT_a6312ce04f70c2e1a860ce380298909b6}{NodeT} (const std\+::vector$<$ std\+::shared\+\_\+ptr$<$ const P $>$ $>$ \&a\+\_\+primitives)
\begin{DoxyCompactList}\small\item\em Construct node from a set of primitives. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a5bc328f2381b6babe37496758ea4b583}\label{classBVH_1_1NodeT_a5bc328f2381b6babe37496758ea4b583}} 
virtual \hyperlink{classBVH_1_1NodeT_a5bc328f2381b6babe37496758ea4b583}{$\sim$\+NodeT} ()
\begin{DoxyCompactList}\small\item\em Destructor (does nothing) \end{DoxyCompactList}\item 
void \hyperlink{classBVH_1_1NodeT_acae5a575fa8b236de984fdd41e04c038}{top\+Down\+Sort\+And\+Partition\+Primitives} (const \hyperlink{classBVH_1_1NodeT_a2340f2466ed5b6eebab4bdc72004858e}{B\+V\+Constructor} \&a\+\_\+bv\+Constructor, const \hyperlink{classBVH_1_1NodeT_a3bb028655b8b961fa35109af1c14f281}{Partitioner} \&a\+\_\+partitioner, const \hyperlink{classBVH_1_1NodeT_acbe56195affc439febe8aca84db308e3}{Stop\+Function} \&a\+\_\+stop\+Crit) noexcept
\begin{DoxyCompactList}\small\item\em Function for using top-\/down construction of the bounding volume hierarchy. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a5c57552524601da9bf20e722e2433aa0}\label{classBVH_1_1NodeT_a5c57552524601da9bf20e722e2433aa0}} 
bool \hyperlink{classBVH_1_1NodeT_a5c57552524601da9bf20e722e2433aa0}{is\+Leaf} () const noexcept
\begin{DoxyCompactList}\small\item\em Get node type. \end{DoxyCompactList}\item 
const \hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List} \& \hyperlink{classBVH_1_1NodeT_a2e0c1e030162a2dc049acb4debd4d9f2}{get\+Primitives} () const noexcept
\begin{DoxyCompactList}\small\item\em Get the primitives stored in this node. \end{DoxyCompactList}\item 
const BV \& \hyperlink{classBVH_1_1NodeT_a02cba4dcb065ebfaeea7e4d251b89d04}{get\+Bounding\+Volume} () const noexcept
\begin{DoxyCompactList}\small\item\em Get bounding volume. \end{DoxyCompactList}\item 
const std\+::array$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1NodeT}{NodeT}$<$ T, P, BV, K $>$ $>$, K $>$ \& \hyperlink{classBVH_1_1NodeT_ac8df9e7b154186207263b8727e1084a8}{get\+Children} () const noexcept
\begin{DoxyCompactList}\small\item\em Return this node\textquotesingle{}s children. \end{DoxyCompactList}\item 
T \hyperlink{classBVH_1_1NodeT_a0fe074fbff56ac2d0a6ad113ed34d56b}{signed\+Distance} (const \hyperlink{classVec3T}{Vec3T}$<$ T $>$ \&a\+\_\+point) const noexcept
\begin{DoxyCompactList}\small\item\em Function which computes the signed distance. \end{DoxyCompactList}\item 
T \hyperlink{classBVH_1_1NodeT_a1f9067b43b1a6962854f4a2b43325858}{signed\+Distance} (const \hyperlink{classVec3T}{Vec3T}$<$ T $>$ \&a\+\_\+point, const \hyperlink{namespaceBVH_a3ddb7b34ac1deb3baed2f32d9eacbe5b}{Prune} a\+\_\+pruning) const noexcept
\begin{DoxyCompactList}\small\item\em Function which computes the signed distance. This version allows the user to manually select a traversal algorithm. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1LinearBVH}{Linear\+B\+VH}$<$ T, P, BV, K $>$ $>$ \hyperlink{classBVH_1_1NodeT_acb801f1e446a6472f5d330e85318bdb3}{flatten\+Tree} () const noexcept
\begin{DoxyCompactList}\small\item\em Flatten everything beneath this node into a depth-\/first sorted \hyperlink{namespaceBVH}{B\+VH} hierarchy. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classBVH_1_1NodeT_a83c128d1045ccc23000a8b26f75b3172}{insert\+Children} (const std\+::array$<$ \hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List}, K $>$ \&a\+\_\+primitives) noexcept
\begin{DoxyCompactList}\small\item\em Insert nodes with primitives. \end{DoxyCompactList}\item 
void \hyperlink{classBVH_1_1NodeT_a2c9c3d3a83b3c1895c8f89b2bbd62e81}{set\+Primitives} (const \hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List} \&a\+\_\+primitives) noexcept
\begin{DoxyCompactList}\small\item\em Set primitives in this node. \end{DoxyCompactList}\item 
T \hyperlink{classBVH_1_1NodeT_a8da9f78078b0a579868d026bd61a2947}{get\+Distance\+To\+Bounding\+Volume} (const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&a\+\_\+point) const noexcept
\begin{DoxyCompactList}\small\item\em Get the distance from a 3D point to the bounding volume. \end{DoxyCompactList}\item 
T \hyperlink{classBVH_1_1NodeT_a61dc7040d57f0a69984548eb4804244b}{get\+Distance\+To\+Primitives} (const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&a\+\_\+point) const noexcept
\begin{DoxyCompactList}\small\item\em Compute the shortest distance to the primitives in this node. \end{DoxyCompactList}\item 
\hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List} \& \hyperlink{classBVH_1_1NodeT_adce9d9c6bd4ab3d613bef232353774f3}{get\+Primitives} () noexcept
\begin{DoxyCompactList}\small\item\em Get the list of primitives in this node. \end{DoxyCompactList}\item 
T \hyperlink{classBVH_1_1NodeT_a6bd0a4dd5843f010dd579d59a289b4d8}{prune\+Stack} (const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&a\+\_\+point) const noexcept
\begin{DoxyCompactList}\small\item\em Iterative ordered pruning along the \hyperlink{namespaceBVH}{B\+VH} tree. \end{DoxyCompactList}\item 
void \hyperlink{classBVH_1_1NodeT_ac4a3be457d66d2673f717f203e60fc08}{prune\+Ordered} (T \&a\+\_\+closest, const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&a\+\_\+point) const noexcept
\begin{DoxyCompactList}\small\item\em Recursively ordered pruning along the \hyperlink{namespaceBVH}{B\+VH} tree. \end{DoxyCompactList}\item 
void \hyperlink{classBVH_1_1NodeT_ad252aa451ca983750dfa0c24344253b2}{prune\+Unordered} (T \&a\+\_\+closest, const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&a\+\_\+point) const noexcept
\begin{DoxyCompactList}\small\item\em Recursive unordered pruning along the \hyperlink{namespaceBVH}{B\+VH} tree. \end{DoxyCompactList}\item 
unsigned long \hyperlink{classBVH_1_1NodeT_aa01d6673b9e48735594b01bdcbefc63f}{flatten\+Tree} (std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1LinearNodeT}{Linear\+NodeT}$<$ T, P, BV, K $>$ $>$ $>$ \&a\+\_\+linear\+Nodes, std\+::vector$<$ std\+::shared\+\_\+ptr$<$ const P $>$ $>$ \&a\+\_\+sorted\+Primitives, unsigned long \&a\+\_\+offset) const noexcept
\begin{DoxyCompactList}\small\item\em Flatten tree method. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a7f8720f2ab03ee9e81de114c479cb2e5}\label{classBVH_1_1NodeT_a7f8720f2ab03ee9e81de114c479cb2e5}} 
BV \hyperlink{classBVH_1_1NodeT_a7f8720f2ab03ee9e81de114c479cb2e5}{m\+\_\+bounding\+Volume}
\begin{DoxyCompactList}\small\item\em Bounding volume object. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_a3c45be2075d8cdfd0dc0a9e73373b64d}\label{classBVH_1_1NodeT_a3c45be2075d8cdfd0dc0a9e73373b64d}} 
std\+::vector$<$ std\+::shared\+\_\+ptr$<$ const P $>$ $>$ \hyperlink{classBVH_1_1NodeT_a3c45be2075d8cdfd0dc0a9e73373b64d}{m\+\_\+primitives}
\begin{DoxyCompactList}\small\item\em Primitives list. This will be empty for regular nodes. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBVH_1_1NodeT_afaf556d6faa78c2cc2b27c82feb0145c}\label{classBVH_1_1NodeT_afaf556d6faa78c2cc2b27c82feb0145c}} 
std\+::array$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1NodeT}{NodeT}$<$ T, P, BV, K $>$ $>$, K $>$ \hyperlink{classBVH_1_1NodeT_afaf556d6faa78c2cc2b27c82feb0145c}{m\+\_\+children}
\begin{DoxyCompactList}\small\item\em Children nodes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class T, class P, class BV, int K$>$\newline
class B\+V\+H\+::\+Node\+T$<$ T, P, B\+V, K $>$}

Forward declare the \hyperlink{namespaceBVH}{B\+VH} node since it is needed for the polymorphic lambdas. 

Class which encapsulates a node in a bounding volume hierarchy.

T is the precision used in the \hyperlink{namespaceBVH}{B\+VH} computations, P is the enclosing primitive and BV is the bounding volume used in the \hyperlink{namespaceBVH}{B\+VH}. K is the tree degree.

T is the precision, P is the primitive type you want to enclose, BV is the bounding volume type used at the nodes. The parameter K (which must be $>$ 1) is the tree degree. K=2 is a binary tree, K=3 is a tertiary tree and so on. \begin{DoxyNote}{Note}
Template constraints are as following\+:
\end{DoxyNote}
P M\+U\+ST supply function signed\+Distance(...) . BV M\+U\+ST supply a function get\+Distance

Had this been C++20, we would have use concepts to enforce this. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classBVH_1_1NodeT_a6da86ccc8e4a0c556cd67ca59af983dc}\label{classBVH_1_1NodeT_a6da86ccc8e4a0c556cd67ca59af983dc}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!NodeT@{NodeT}}
\index{NodeT@{NodeT}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{Node\+T()}{NodeT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
\hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::\hyperlink{classBVH_1_1NodeT}{NodeT} (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::shared\+\_\+ptr$<$ P $>$ $>$ \&}]{a\+\_\+primitives }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct node from a set of primitives. 

This node becomes a leaf node which contains the input primitives. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+primitives} & Input primitives. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBVH_1_1NodeT_a6312ce04f70c2e1a860ce380298909b6}\label{classBVH_1_1NodeT_a6312ce04f70c2e1a860ce380298909b6}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!NodeT@{NodeT}}
\index{NodeT@{NodeT}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{Node\+T()}{NodeT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
\hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::\hyperlink{classBVH_1_1NodeT}{NodeT} (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::shared\+\_\+ptr$<$ const P $>$ $>$ \&}]{a\+\_\+primitives }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct node from a set of primitives. 

This node becomes a leaf node which contains the input primitives. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+primitives} & Input primitives. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classBVH_1_1NodeT_acb801f1e446a6472f5d330e85318bdb3}\label{classBVH_1_1NodeT_acb801f1e446a6472f5d330e85318bdb3}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!flatten\+Tree@{flatten\+Tree}}
\index{flatten\+Tree@{flatten\+Tree}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{flatten\+Tree()}{flattenTree()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1LinearBVH}{Linear\+B\+VH}$<$ T, P, BV, K $>$ $>$ \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::flatten\+Tree (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Flatten everything beneath this node into a depth-\/first sorted \hyperlink{namespaceBVH}{B\+VH} hierarchy. 

This will compute the flattening of the standard \hyperlink{namespaceBVH}{B\+VH} tree and return a pointer to the linear corresponding to the current node. \mbox{\Hypertarget{classBVH_1_1NodeT_aa01d6673b9e48735594b01bdcbefc63f}\label{classBVH_1_1NodeT_aa01d6673b9e48735594b01bdcbefc63f}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!flatten\+Tree@{flatten\+Tree}}
\index{flatten\+Tree@{flatten\+Tree}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{flatten\+Tree()}{flattenTree()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
unsigned long \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::flatten\+Tree (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1LinearNodeT}{Linear\+NodeT}$<$ T, P, BV, K $>$ $>$ $>$ \&}]{a\+\_\+linear\+Nodes,  }\item[{std\+::vector$<$ std\+::shared\+\_\+ptr$<$ const P $>$ $>$ \&}]{a\+\_\+sorted\+Primitives,  }\item[{unsigned long \&}]{a\+\_\+offset }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Flatten tree method. 

This function will flatten everything beneath the current node and linearize all the nodes and primitives beneath it to a\+\_\+linear\+Nodes and a\+\_\+sorted\+Primitives. This function is called recursively. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em a\+\_\+linear\+Nodes} & \hyperlink{namespaceBVH}{B\+VH} nodes, linearized onto a vector. \\
\hline
\mbox{\tt in,out}  & {\em a\+\_\+sorted\+Primitives} & Sorted primitives (in leaf node order). \\
\hline
\mbox{\tt in,out}  & {\em a\+\_\+offset} & Supporting integer for figuring out where in the tree we are. \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
When called from the root node, a\+\_\+linear\+Nodes and a\+\_\+sorted\+Primitives should be empty and a\+\_\+offset=0\+UL. 
\end{DoxyNote}
\mbox{\Hypertarget{classBVH_1_1NodeT_a02cba4dcb065ebfaeea7e4d251b89d04}\label{classBVH_1_1NodeT_a02cba4dcb065ebfaeea7e4d251b89d04}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!get\+Bounding\+Volume@{get\+Bounding\+Volume}}
\index{get\+Bounding\+Volume@{get\+Bounding\+Volume}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{get\+Bounding\+Volume()}{getBoundingVolume()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
const BV \& \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::get\+Bounding\+Volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Get bounding volume. 

\begin{DoxyReturn}{Returns}
m\+\_\+bv 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_ac8df9e7b154186207263b8727e1084a8}\label{classBVH_1_1NodeT_ac8df9e7b154186207263b8727e1084a8}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!get\+Children@{get\+Children}}
\index{get\+Children@{get\+Children}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{get\+Children()}{getChildren()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
const std\+::array$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classBVH_1_1NodeT}{NodeT}$<$ T, P, BV, K $>$ $>$, K $>$ \& \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::get\+Children (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Return this node\textquotesingle{}s children. 

\begin{DoxyReturn}{Returns}
m\+\_\+children. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_a8da9f78078b0a579868d026bd61a2947}\label{classBVH_1_1NodeT_a8da9f78078b0a579868d026bd61a2947}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!get\+Distance\+To\+Bounding\+Volume@{get\+Distance\+To\+Bounding\+Volume}}
\index{get\+Distance\+To\+Bounding\+Volume@{get\+Distance\+To\+Bounding\+Volume}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{get\+Distance\+To\+Bounding\+Volume()}{getDistanceToBoundingVolume()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
T \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::get\+Distance\+To\+Bounding\+Volume (\begin{DoxyParamCaption}\item[{const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&}]{a\+\_\+point }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Get the distance from a 3D point to the bounding volume. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+point} & 3D point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns distance to bounding volume. A zero distance implies that the input point is inside the bounding volume. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_a61dc7040d57f0a69984548eb4804244b}\label{classBVH_1_1NodeT_a61dc7040d57f0a69984548eb4804244b}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!get\+Distance\+To\+Primitives@{get\+Distance\+To\+Primitives}}
\index{get\+Distance\+To\+Primitives@{get\+Distance\+To\+Primitives}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{get\+Distance\+To\+Primitives()}{getDistanceToPrimitives()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
T \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::get\+Distance\+To\+Primitives (\begin{DoxyParamCaption}\item[{const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&}]{a\+\_\+point }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Compute the shortest distance to the primitives in this node. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+point} & 3D point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the signed distance to the primitives. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_a2e0c1e030162a2dc049acb4debd4d9f2}\label{classBVH_1_1NodeT_a2e0c1e030162a2dc049acb4debd4d9f2}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!get\+Primitives@{get\+Primitives}}
\index{get\+Primitives@{get\+Primitives}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{get\+Primitives()}{getPrimitives()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
const \hyperlink{namespaceBVH_aa1e753bda451b85cd5b948722a2ad7c7}{Primitive\+ListT}$<$ P $>$ \& \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::get\+Primitives (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Get the primitives stored in this node. 

\begin{DoxyReturn}{Returns}
m\+\_\+primitives. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_adce9d9c6bd4ab3d613bef232353774f3}\label{classBVH_1_1NodeT_adce9d9c6bd4ab3d613bef232353774f3}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!get\+Primitives@{get\+Primitives}}
\index{get\+Primitives@{get\+Primitives}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{get\+Primitives()}{getPrimitives()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
\hyperlink{namespaceBVH_aa1e753bda451b85cd5b948722a2ad7c7}{Primitive\+ListT}$<$ P $>$ \& \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::get\+Primitives (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Get the list of primitives in this node. 

\begin{DoxyReturn}{Returns}
Primitives list 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_a83c128d1045ccc23000a8b26f75b3172}\label{classBVH_1_1NodeT_a83c128d1045ccc23000a8b26f75b3172}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!insert\+Children@{insert\+Children}}
\index{insert\+Children@{insert\+Children}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{insert\+Children()}{insertChildren()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
void \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::insert\+Children (\begin{DoxyParamCaption}\item[{const std\+::array$<$ \hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List}, K $>$ \&}]{a\+\_\+primitives }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Insert nodes with primitives. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+primitives} & Primitives for children. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBVH_1_1NodeT_ac4a3be457d66d2673f717f203e60fc08}\label{classBVH_1_1NodeT_ac4a3be457d66d2673f717f203e60fc08}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!prune\+Ordered@{prune\+Ordered}}
\index{prune\+Ordered@{prune\+Ordered}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{prune\+Ordered()}{pruneOrdered()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
void \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::prune\+Ordered (\begin{DoxyParamCaption}\item[{T \&}]{a\+\_\+closest,  }\item[{const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&}]{a\+\_\+point }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Recursively ordered pruning along the \hyperlink{namespaceBVH}{B\+VH} tree. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em a\+\_\+closest} & Shortest distance to primitives so far. \\
\hline
\mbox{\tt in,out}  & {\em a\+\_\+point} & Input 3D point \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBVH_1_1NodeT_a6bd0a4dd5843f010dd579d59a289b4d8}\label{classBVH_1_1NodeT_a6bd0a4dd5843f010dd579d59a289b4d8}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!prune\+Stack@{prune\+Stack}}
\index{prune\+Stack@{prune\+Stack}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{prune\+Stack()}{pruneStack()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
T \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::prune\+Stack (\begin{DoxyParamCaption}\item[{const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&}]{a\+\_\+point }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Iterative ordered pruning along the \hyperlink{namespaceBVH}{B\+VH} tree. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em a\+\_\+point} & Input 3D point \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBVH_1_1NodeT_ad252aa451ca983750dfa0c24344253b2}\label{classBVH_1_1NodeT_ad252aa451ca983750dfa0c24344253b2}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!prune\+Unordered@{prune\+Unordered}}
\index{prune\+Unordered@{prune\+Unordered}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{prune\+Unordered()}{pruneUnordered()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
void \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::prune\+Unordered (\begin{DoxyParamCaption}\item[{T \&}]{a\+\_\+closest,  }\item[{const \hyperlink{classBVH_1_1NodeT_a6fbb4308c5c55ee170c5f992df7ae1d0}{Vec3} \&}]{a\+\_\+point }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Recursive unordered pruning along the \hyperlink{namespaceBVH}{B\+VH} tree. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em a\+\_\+closest} & Shortest distance to primitives so far. \\
\hline
\mbox{\tt in,out}  & {\em a\+\_\+point} & Input 3D point \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBVH_1_1NodeT_a2c9c3d3a83b3c1895c8f89b2bbd62e81}\label{classBVH_1_1NodeT_a2c9c3d3a83b3c1895c8f89b2bbd62e81}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!set\+Primitives@{set\+Primitives}}
\index{set\+Primitives@{set\+Primitives}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{set\+Primitives()}{setPrimitives()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
void \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::set\+Primitives (\begin{DoxyParamCaption}\item[{const \hyperlink{classBVH_1_1NodeT_a19cce6e7fbe85eccb4a3718dd69f49b7}{Primitive\+List} \&}]{a\+\_\+primitives }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [noexcept]}}



Set primitives in this node. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+primitives} & Primitives \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBVH_1_1NodeT_a0fe074fbff56ac2d0a6ad113ed34d56b}\label{classBVH_1_1NodeT_a0fe074fbff56ac2d0a6ad113ed34d56b}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!signed\+Distance@{signed\+Distance}}
\index{signed\+Distance@{signed\+Distance}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{signed\+Distance()}{signedDistance()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
T \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::signed\+Distance (\begin{DoxyParamCaption}\item[{const \hyperlink{classVec3T}{Vec3T}$<$ T $>$ \&}]{a\+\_\+point }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Function which computes the signed distance. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+point} & 3D point in space \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Signed distance to the input point. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_a1f9067b43b1a6962854f4a2b43325858}\label{classBVH_1_1NodeT_a1f9067b43b1a6962854f4a2b43325858}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!signed\+Distance@{signed\+Distance}}
\index{signed\+Distance@{signed\+Distance}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{signed\+Distance()}{signedDistance()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
T \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::signed\+Distance (\begin{DoxyParamCaption}\item[{const \hyperlink{classVec3T}{Vec3T}$<$ T $>$ \&}]{a\+\_\+point,  }\item[{const \hyperlink{namespaceBVH_a3ddb7b34ac1deb3baed2f32d9eacbe5b}{Prune}}]{a\+\_\+pruning }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Function which computes the signed distance. This version allows the user to manually select a traversal algorithm. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+point} & 3D point in space \\
\hline
\mbox{\tt in}  & {\em a\+\_\+pruning} & Pruning algorithm \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Signed distance to the input point. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBVH_1_1NodeT_acae5a575fa8b236de984fdd41e04c038}\label{classBVH_1_1NodeT_acae5a575fa8b236de984fdd41e04c038}} 
\index{B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}!top\+Down\+Sort\+And\+Partition\+Primitives@{top\+Down\+Sort\+And\+Partition\+Primitives}}
\index{top\+Down\+Sort\+And\+Partition\+Primitives@{top\+Down\+Sort\+And\+Partition\+Primitives}!B\+V\+H\+::\+NodeT@{B\+V\+H\+::\+NodeT}}
\subsubsection{\texorpdfstring{top\+Down\+Sort\+And\+Partition\+Primitives()}{topDownSortAndPartitionPrimitives()}}
{\footnotesize\ttfamily template$<$class T , class P , class BV , int K$>$ \\
void \hyperlink{classBVH_1_1NodeT}{B\+V\+H\+::\+NodeT}$<$ T, P, BV, K $>$\+::top\+Down\+Sort\+And\+Partition\+Primitives (\begin{DoxyParamCaption}\item[{const \hyperlink{classBVH_1_1NodeT_a2340f2466ed5b6eebab4bdc72004858e}{B\+V\+Constructor} \&}]{a\+\_\+bv\+Constructor,  }\item[{const \hyperlink{classBVH_1_1NodeT_a3bb028655b8b961fa35109af1c14f281}{Partitioner} \&}]{a\+\_\+partitioner,  }\item[{const \hyperlink{classBVH_1_1NodeT_acbe56195affc439febe8aca84db308e3}{Stop\+Function} \&}]{a\+\_\+stop\+Crit }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Function for using top-\/down construction of the bounding volume hierarchy. 

The rules for terminating the hierarchy construction, how to partition sets of primitives, and how to enclose them by bounding volumes are given in the input arguments (a\+\_\+stop\+Func, a\+\_\+part\+Func, a\+\_\+bv\+Func) 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+\_\+bv\+Constructor} & Polymorphic function which builds a bounding volume from a set of primitives. \\
\hline
\mbox{\tt in}  & {\em a\+\_\+partitioner} & Partitioning function. This is a polymorphic function which divides a set of primitives into two lists. \\
\hline
\mbox{\tt in}  & {\em a\+\_\+stop\+Crit} & Termination function which tells us when to stop the recursion. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Source/\hyperlink{EBGeometry__BVH_8hpp}{E\+B\+Geometry\+\_\+\+B\+V\+H.\+hpp}\item 
Source/\hyperlink{EBGeometry__BVHImplem_8hpp}{E\+B\+Geometry\+\_\+\+B\+V\+H\+Implem.\+hpp}\end{DoxyCompactItemize}
